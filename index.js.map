{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nexport default function getImagesByQuery(query) {  \n  return axios\n    .get('https://pixabay.com/api/', {\n                    params: {\n                      key: '52124620-04c3728bcdfdd891621e81587',\n                      q: query,\n                      image_type: \"photo\",\n                      orientation: 'horizontal',\n                      safesearch: true,\n                      per_page: 36,\n                    }\n                  })\n    .then(response => {      \n      return response.data.hits;\n    })\n    .catch(() => {      \n      return [];\n    });    \n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.span-loader');\nconst lightbox = new SimpleLightbox('.gallery-link', {\n    captions: true,\n    captionsData: 'alt',\n    captionDelay: 250,\n    overlayOpacity: 1,\n});\n\nexport function createGallery(images) {\n    let galleryStr = \"\";\n    for (const image of images) {\n        galleryStr += \n        `<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img\n                class=\"gallery-img\"\n                src=\"${image.webformatURL}\"\n                alt=\"${image.tags}\"\n            />\n            <ul class=\"gallery-desc\">\n                <li class=\"gallery-desc-item\">\n                    <span class=\"gallery-desc-item-name\">Likes</span>\n                    <span class=\"gallery-desc-item-value\">${image.likes}</span>\n                </li>\n                <li class=\"gallery-desc-item\">\n                    <span class=\"gallery-desc-item-name\">Views</span>\n                    <span class=\"gallery-desc-item-value\">${image.views}</span>\n                </li>\n                <li class=\"gallery-desc-item\">\n                    <span class=\"gallery-desc-item-name\">Comments</span>\n                    <span class=\"gallery-desc-item-value\">${image.comments}</span>\n                </li>\n                <li class=\"gallery-desc-item\">\n                    <span class=\"gallery-desc-item-name\">Downloads</span>\n                    <span class=\"gallery-desc-item-value\">${image.downloads}</span>\n                </li>\n            </ul>\n            </a>\n        </li>` \n    };    \n    gallery.insertAdjacentHTML('beforeend', galleryStr);    \n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.add('loader');\n}\n\nexport function hideLoader() {    \n    loader.classList.remove('loader');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport getImagesByQuery from \"/js/pixabay-api\";\nimport * as render from \"/js/render-functions\";\n\nconst form = document.querySelector('.form');\n\nconst galleryUpd = (evt) => {\n    evt.preventDefault();    \n    const keyWord = evt.target.elements['search-text'].value.trim();    \n    form.reset();\n    if (!keyWord) {\n  iziToast.warning({\n    title: 'Warning',\n    message: 'Please enter a search query before submitting.',\n    position: 'topRight',\n  });\n  return;\n}\n\n    \n    render.clearGallery();\n    render.showLoader();    \n    \n    getImagesByQuery(keyWord)\n        .then((images) => {\n            render.hideLoader();\n            if (images.length === 0) {\n                throw new Error('Invalid search query');\n            }            \n            render.createGallery(images);\n        })\n        .catch(() => {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: \"topRight\",\n            });\n        });        \n}\n\nform.addEventListener('submit', galleryUpd);"],"names":["getImagesByQuery","query","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","galleryStr","image","clearGallery","showLoader","hideLoader","form","galleryUpd","evt","keyWord","iziToast","render.clearGallery","render.showLoader","render.hideLoader","render.createGallery"],"mappings":"owBAGe,SAASA,EAAiBC,EAAO,CAC9C,OAAOC,EACJ,IAAI,2BAA4B,CACjB,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACrB,CAAmB,EACd,KAAKE,GACGA,EAAS,KAAK,IACtB,EACA,MAAM,IACE,EACR,CACL,CClBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,IAAIC,EAAe,gBAAiB,CACjD,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,CACpB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,IAAIC,EAAa,GACjB,UAAWC,KAASF,EAChBC,GACA;AAAA,4CACoCC,EAAM,aAAa;AAAA;AAAA;AAAA,uBAGxCA,EAAM,YAAY;AAAA,uBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,4DAK2BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,4DAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,eAMvEP,EAAQ,mBAAmB,YAAaM,CAAU,EAClDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BR,EAAQ,UAAY,EACxB,CAEO,SAASS,GAAa,CACzBR,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEO,SAASS,GAAa,CACzBT,EAAO,UAAU,OAAO,QAAQ,CACpC,CCpDA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAErCC,EAAcC,GAAQ,CACxBA,EAAI,eAAc,EAClB,MAAMC,EAAUD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OAEzD,GADAF,EAAK,MAAK,EACN,CAACG,EAAS,CAChBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,iDACT,SAAU,UACd,CAAG,EACD,MACF,CAGIC,IACAC,IAEArB,EAAiBkB,CAAO,EACnB,KAAMT,GAAW,CAEd,GADAa,IACIb,EAAO,SAAW,EAClB,MAAM,IAAI,MAAM,sBAAsB,EAE1Cc,EAAqBd,CAAM,CACvC,CAAS,EACA,MAAM,IAAM,CACTU,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,CACb,CAAS,CACT,EAEAJ,EAAK,iBAAiB,SAAUC,CAAU"}